# SonarCloud Configuration for Karting Dashboard Project
# https://sonarcloud.io

sonar.organization=TheMaksoo
sonar.projectKey=TheMaksoo_karting-dashboard
sonar.projectName=Karting Dashboard
sonar.projectVersion=1.0.0

# Source encoding
sonar.sourceEncoding=UTF-8

# ========================================
# Source and Test Directories
# ========================================

# PHP Backend (Laravel)
sonar.php.coverage.reportPaths=portal/backend/coverage/clover.xml
sonar.php.tests.reportPath=portal/backend/tests-report.xml

# TypeScript/Vue Frontend
sonar.typescript.lcov.reportPaths=portal/frontend/coverage/lcov.info
sonar.javascript.lcov.reportPaths=portal/frontend/coverage/lcov.info

# Python Data Importer
sonar.python.coverage.reportPaths=data-importer/scripts/coverage.xml

# ========================================
# Source Files
# ========================================
sonar.sources=portal/backend/app,portal/frontend/src,data-importer/scripts

# ========================================
# Test Files
# ========================================
sonar.tests=portal/backend/tests,portal/frontend/src,data-importer/scripts/tests
sonar.test.inclusions=**/*Test.php,**/*.spec.ts,**/test_*.py

# ========================================
# Exclusions
# ========================================

# Exclude from analysis
sonar.exclusions=\
  **/node_modules/**,\
  **/vendor/**,\
  **/.venv/**,\
  **/dist/**,\
  **/coverage/**,\
  **/storage/**,\
  **/bootstrap/cache/**,\
  **/*.min.js,\
  **/*.min.css,\
  **/public/build/**

# Exclude from duplication detection
sonar.cpd.exclusions=\
  **/tests/**,\
  **/*.spec.ts,\
  **/test_*.py,\
  **/*Test.php

# Exclude from coverage
sonar.coverage.exclusions=\
  **/tests/**,\
  **/*.spec.ts,\
  **/test_*.py,\
  **/*Test.php,\
  **/database/migrations/**,\
  **/database/seeders/**,\
  **/config/**

# ========================================
# Language-specific settings
# ========================================

# PHP settings
sonar.php.file.suffixes=php

# TypeScript settings  
sonar.typescript.file.suffixes=.ts,.tsx,.vue

# Python settings
sonar.python.file.suffixes=py

# ========================================
# Quality Gates
# ========================================

# These are defaults, can be overridden in SonarQube UI
# sonar.qualitygate.wait=true
