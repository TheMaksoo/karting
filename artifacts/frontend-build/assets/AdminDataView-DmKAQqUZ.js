import{d as X,o as l,c as s,e,t as o,g as h,J as x,F as D,n as w,b as pe,v as $,s as Y,i as T,r as y,L as K,l as C,I as me,k as ye,m as ge,f as J,z as le,p as ne,q as se,D as ke,y as be}from"./index-BIUjLROW.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const he={class:"sessions-table"},_e={class:"table-header"},fe={class:"filters-section"},$e={class:"filter-row"},Ce={class:"filter-group"},Pe=["value"],Te={class:"filter-group"},Fe={class:"filter-group"},Ve={class:"filter-group"},De={key:0,class:"loading"},we={key:1,class:"error"},Ue={key:2,class:"empty-state"},Ne={key:3,class:"table-wrapper"},Se={class:"mono"},Le={key:1},Ae={key:1},xe=["value"],Re={key:1},Ee={key:1},Ie={key:1},Be={key:1},He={key:1},Me={key:1},Qe={key:1},ze={class:"actions"},Oe=["onClick"],je=["onClick"],We={key:0,class:"pagination"},qe=["disabled"],Ge=["disabled"],Je=X({__name:"SessionsTable",props:{items:{},loading:{type:Boolean},error:{},currentPage:{},totalPages:{},total:{},tracks:{}},emits:["refresh","page-change","filter-change"],setup(c,{emit:F}){const V=F,_=y(null),g=K({}),k=K({track_id:"",session_type:"",date_from:"",date_to:""}),b=()=>{const u={};k.track_id&&(u.track_id=k.track_id),k.session_type&&(u.session_type=k.session_type),k.date_from&&(u.date_from=k.date_from),k.date_to&&(u.date_to=k.date_to),V("filter-change",u)},p=()=>{k.track_id="",k.session_type="",k.date_from="",k.date_to="",b()},P=u=>new Date(u).toLocaleDateString(),U=u=>{if(u==null)return"0.00";const n=typeof u=="string"?parseFloat(u):u;return isNaN(n)?"0.00":n.toFixed(2)},N=u=>{_.value=u.id,Object.assign(g,{track_id:u.track_id,session_date:u.session_date,session_time:u.session_time,session_type:u.session_type,heat:u.heat,weather:u.weather,source:u.source,heat_price:u.heat_price,notes:u.notes})},S=async()=>{var u,n;if(_.value)try{await C.updateSession(_.value,g),_.value=null,V("refresh")}catch(t){alert("Failed to save: "+(((n=(u=t.response)==null?void 0:u.data)==null?void 0:n.message)||t.message))}},L=()=>{_.value=null},A=async u=>{var n,t;if(confirm("Delete this session and all its laps?"))try{await C.deleteSession(u),V("refresh")}catch(a){alert("Failed to delete: "+(((t=(n=a.response)==null?void 0:n.data)==null?void 0:t.message)||a.message))}};return(u,n)=>(l(),s("div",he,[e("div",_e,[e("h3",null,"Sessions ("+o(c.total)+")",1),e("button",{onClick:n[0]||(n[0]=t=>u.$emit("refresh")),class:"btn-refresh"},"ðŸ”„ Refresh")]),e("div",fe,[e("div",$e,[e("div",Ce,[n[17]||(n[17]=e("label",null,"Track",-1)),h(e("select",{"onUpdate:modelValue":n[1]||(n[1]=t=>k.track_id=t),onChange:b},[n[16]||(n[16]=e("option",{value:""},"All Tracks",-1)),(l(!0),s(D,null,w(c.tracks,t=>(l(),s("option",{key:t.id,value:t.id},o(t.name),9,Pe))),128))],544),[[x,k.track_id]])]),e("div",Te,[n[19]||(n[19]=e("label",null,"Session Type",-1)),h(e("select",{"onUpdate:modelValue":n[2]||(n[2]=t=>k.session_type=t),onChange:b},[...n[18]||(n[18]=[pe('<option value="" data-v-d08e1953>All Types</option><option value="Practice" data-v-d08e1953>Practice</option><option value="Race" data-v-d08e1953>Race</option><option value="Qualifying" data-v-d08e1953>Qualifying</option><option value="Heat" data-v-d08e1953>Heat</option>',5)])],544),[[x,k.session_type]])]),e("div",Fe,[n[20]||(n[20]=e("label",null,"Date From",-1)),h(e("input",{type:"date","onUpdate:modelValue":n[3]||(n[3]=t=>k.date_from=t),onChange:b},null,544),[[$,k.date_from]])]),e("div",Ve,[n[21]||(n[21]=e("label",null,"Date To",-1)),h(e("input",{type:"date","onUpdate:modelValue":n[4]||(n[4]=t=>k.date_to=t),onChange:b},null,544),[[$,k.date_to]])]),e("button",{onClick:p,class:"btn-clear-filters"},"âœ• Clear")])]),c.loading?(l(),s("div",De,[...n[22]||(n[22]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading sessions...",-1)])])):c.error?(l(),s("div",we,o(c.error),1)):c.items.length?(l(),s("div",Ne,[e("table",null,[n[25]||(n[25]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Date"),e("th",null,"Time"),e("th",null,"Track"),e("th",null,"Type"),e("th",null,"Heat #"),e("th",null,"Weather"),e("th",null,"Source"),e("th",null,"Heat Price"),e("th",null,"Notes"),e("th",null,"Actions")])],-1)),e("tbody",null,[(l(!0),s(D,null,w(c.items,t=>{var a;return l(),s("tr",{key:t.id,class:Y({editing:_.value===t.id})},[e("td",Se,o(t.id),1),e("td",null,[_.value===t.id?h((l(),s("input",{key:0,"onUpdate:modelValue":n[5]||(n[5]=m=>g.session_date=m),type:"date"},null,512)),[[$,g.session_date]]):(l(),s("span",Le,o(P(t.session_date)),1))]),e("td",null,[_.value===t.id?h((l(),s("input",{key:0,"onUpdate:modelValue":n[6]||(n[6]=m=>g.session_time=m),type:"time"},null,512)),[[$,g.session_time]]):(l(),s("span",Ae,o(t.session_time||"-"),1))]),e("td",null,[_.value===t.id?h((l(),s("select",{key:0,"onUpdate:modelValue":n[7]||(n[7]=m=>g.track_id=m)},[(l(!0),s(D,null,w(c.tracks,m=>(l(),s("option",{key:m.id,value:m.id},o(m.name),9,xe))),128))],512)),[[x,g.track_id]]):(l(),s("span",Re,o(((a=t.track)==null?void 0:a.name)||"N/A"),1))]),e("td",null,[_.value===t.id?h((l(),s("select",{key:0,"onUpdate:modelValue":n[8]||(n[8]=m=>g.session_type=m)},[...n[24]||(n[24]=[e("option",{value:"Practice"},"Practice",-1),e("option",{value:"Race"},"Race",-1),e("option",{value:"Qualifying"},"Qualifying",-1),e("option",{value:"Heat"},"Heat",-1)])],512)),[[x,g.session_type]]):(l(),s("span",Ee,o(t.session_type),1))]),e("td",null,[_.value===t.id?h((l(),s("input",{key:0,"onUpdate:modelValue":n[9]||(n[9]=m=>g.heat=m),type:"number",min:"1"},null,512)),[[$,g.heat,void 0,{number:!0}]]):(l(),s("span",Ie,o(t.heat),1))]),e("td",null,[_.value===t.id?h((l(),s("input",{key:0,"onUpdate:modelValue":n[10]||(n[10]=m=>g.weather=m),type:"text"},null,512)),[[$,g.weather]]):(l(),s("span",Be,o(t.weather||"-"),1))]),e("td",null,[_.value===t.id?h((l(),s("input",{key:0,"onUpdate:modelValue":n[11]||(n[11]=m=>g.source=m),type:"text"},null,512)),[[$,g.source]]):(l(),s("span",He,o(t.source||"-"),1))]),e("td",null,[_.value===t.id?h((l(),s("input",{key:0,"onUpdate:modelValue":n[12]||(n[12]=m=>g.heat_price=m),type:"number",step:"0.01"},null,512)),[[$,g.heat_price,void 0,{number:!0}]]):(l(),s("span",Me,"â‚¬"+o(U(t.heat_price)),1))]),e("td",null,[_.value===t.id?h((l(),s("input",{key:0,"onUpdate:modelValue":n[13]||(n[13]=m=>g.notes=m),type:"text"},null,512)),[[$,g.notes]]):(l(),s("span",Qe,o(t.notes||"-"),1))]),e("td",ze,[_.value===t.id?(l(),s("button",{key:0,onClick:S,class:"btn-icon btn-save"},"âœ“")):T("",!0),_.value===t.id?(l(),s("button",{key:1,onClick:L,class:"btn-icon btn-cancel"},"âœ—")):(l(),s("button",{key:2,onClick:m=>N(t),class:"btn-icon btn-edit"},"âœŽ",8,Oe)),e("button",{onClick:m=>A(t.id),class:"btn-icon btn-delete"},"ðŸ—‘",8,je)])],2)}),128))])]),c.totalPages>1?(l(),s("div",We,[e("button",{onClick:n[14]||(n[14]=t=>u.$emit("page-change",c.currentPage-1)),disabled:c.currentPage===1},"Previous",8,qe),e("span",null,"Page "+o(c.currentPage)+" of "+o(c.totalPages),1),e("button",{onClick:n[15]||(n[15]=t=>u.$emit("page-change",c.currentPage+1)),disabled:c.currentPage===c.totalPages},"Next",8,Ge)])):T("",!0)])):(l(),s("div",Ue,[...n[23]||(n[23]=[e("p",null,"ðŸ“­ No sessions found",-1)])]))]))}}),Ke=Z(Je,[["__scopeId","data-v-d08e1953"]]),Xe={class:"laps-table"},Ye={class:"table-header"},Ze={class:"header-actions"},et=["value"],tt=["value"],lt={key:0,class:"loading"},nt={key:1,class:"error"},st={key:2,class:"empty-state"},at={key:3,class:"table-wrapper"},ot={class:"mono"},it={class:"mono"},rt=["value"],ut={key:1},dt={key:1},vt={class:"highlight"},ct={key:1},pt={key:1},mt={key:1},yt={key:1},gt={key:1},kt={key:1},bt={key:1},ht={key:1},_t={key:1},ft={key:1},$t={key:1},Ct={key:1},Pt={class:"actions"},Tt=["onClick"],Ft=["onClick"],Vt={key:0,class:"pagination"},Dt=["disabled"],wt=["disabled"],Ut=X({__name:"LapsTable",props:{items:{},loading:{type:Boolean},error:{},currentPage:{},totalPages:{},total:{},drivers:{},tracks:{},driverFilter:{},trackFilter:{}},emits:["refresh","page-change","filter-change"],setup(c,{emit:F}){const V=c,_=F,g=y(V.driverFilter),k=y(V.trackFilter),b=y(null),p=K({}),P=n=>{if(!n||n===0||n===null||n===void 0)return"-";const t=typeof n=="string"?parseFloat(n):n;return isNaN(t)?"-":t.toFixed(3)+"s"},U=n=>{if(!n||n===null||n===void 0)return"-";const t=typeof n=="string"?parseFloat(n):n;return isNaN(t)?"-":t.toFixed(1)+" km/h"},N=n=>{if(!n||n===null||n===void 0)return"-";const t=typeof n=="string"?parseFloat(n):n;return isNaN(t)?"-":"â‚¬"+t.toFixed(2)},S=n=>{b.value=n.id,Object.assign(p,{...n})},L=async()=>{var n,t;if(b.value)try{await C.updateLap(b.value,p),b.value=null,_("refresh")}catch(a){alert("Failed to save: "+(((t=(n=a.response)==null?void 0:n.data)==null?void 0:t.message)||a.message))}},A=()=>{b.value=null},u=async n=>{var t,a;if(confirm("Delete this lap?"))try{await C.deleteLap(n),_("refresh")}catch(m){alert("Failed to delete: "+(((a=(t=m.response)==null?void 0:t.data)==null?void 0:a.message)||m.message))}};return(n,t)=>(l(),s("div",Xe,[e("div",Ye,[e("h3",null,"Laps ("+o(c.total)+")",1),e("div",Ze,[h(e("select",{"onUpdate:modelValue":t[0]||(t[0]=a=>g.value=a),onChange:t[1]||(t[1]=a=>n.$emit("filter-change",{driver:g.value,track:k.value})),class:"filter-select"},[t[21]||(t[21]=e("option",{value:""},"All Drivers",-1)),(l(!0),s(D,null,w(c.drivers,a=>(l(),s("option",{key:a.id,value:a.id},o(a.name),9,et))),128))],544),[[x,g.value]]),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>k.value=a),onChange:t[3]||(t[3]=a=>n.$emit("filter-change",{driver:g.value,track:k.value})),class:"filter-select"},[t[22]||(t[22]=e("option",{value:""},"All Tracks",-1)),(l(!0),s(D,null,w(c.tracks,a=>(l(),s("option",{key:a.id,value:a.id},o(a.name),9,tt))),128))],544),[[x,k.value]]),e("button",{onClick:t[4]||(t[4]=a=>n.$emit("refresh")),class:"btn-refresh"},"ðŸ”„")])]),c.loading?(l(),s("div",lt,[...t[23]||(t[23]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading laps...",-1)])])):c.error?(l(),s("div",nt,o(c.error),1)):c.items.length?(l(),s("div",at,[e("table",null,[t[25]||(t[25]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Session"),e("th",null,"Driver"),e("th",null,"Lap #"),e("th",null,"Lap Time"),e("th",null,"Position"),e("th",null,"S1"),e("th",null,"S2"),e("th",null,"S3"),e("th",null,"Best"),e("th",null,"Gap"),e("th",null,"Interval"),e("th",null,"Avg Speed"),e("th",null,"Kart #"),e("th",null,"Tyre"),e("th",null,"Cost"),e("th",null,"Actions")])],-1)),e("tbody",null,[(l(!0),s(D,null,w(c.items,a=>{var m;return l(),s("tr",{key:a.id,class:Y({editing:b.value===a.id,best:a.is_best_lap})},[e("td",ot,o(a.id),1),e("td",it,o(a.karting_session_id),1),e("td",null,[b.value===a.id?h((l(),s("select",{key:0,"onUpdate:modelValue":t[5]||(t[5]=d=>p.driver_id=d)},[(l(!0),s(D,null,w(c.drivers,d=>(l(),s("option",{key:d.id,value:d.id},o(d.name),9,rt))),128))],512)),[[x,p.driver_id]]):(l(),s("span",ut,o(((m=a.driver)==null?void 0:m.name)||"N/A"),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[6]||(t[6]=d=>p.lap_number=d),type:"number",min:"1"},null,512)),[[$,p.lap_number,void 0,{number:!0}]]):(l(),s("span",dt,o(a.lap_number),1))]),e("td",vt,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[7]||(t[7]=d=>p.lap_time=d),type:"number",step:"0.001"},null,512)),[[$,p.lap_time,void 0,{number:!0}]]):(l(),s("span",ct,o(P(a.lap_time)),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[8]||(t[8]=d=>p.position=d),type:"number",min:"1"},null,512)),[[$,p.position,void 0,{number:!0}]]):(l(),s("span",pt,o(a.position||"-"),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[9]||(t[9]=d=>p.sector1=d),type:"number",step:"0.001"},null,512)),[[$,p.sector1,void 0,{number:!0}]]):(l(),s("span",mt,o(P(a.sector1)),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[10]||(t[10]=d=>p.sector2=d),type:"number",step:"0.001"},null,512)),[[$,p.sector2,void 0,{number:!0}]]):(l(),s("span",yt,o(P(a.sector2)),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[11]||(t[11]=d=>p.sector3=d),type:"number",step:"0.001"},null,512)),[[$,p.sector3,void 0,{number:!0}]]):(l(),s("span",gt,o(P(a.sector3)),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[12]||(t[12]=d=>p.is_best_lap=d),type:"checkbox"},null,512)),[[me,p.is_best_lap]]):(l(),s("span",kt,o(a.is_best_lap?"â­":""),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[13]||(t[13]=d=>p.gap_to_best_lap=d),type:"number",step:"0.001"},null,512)),[[$,p.gap_to_best_lap,void 0,{number:!0}]]):(l(),s("span",bt,o(P(a.gap_to_best_lap)),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[14]||(t[14]=d=>p.interval=d),type:"number",step:"0.001"},null,512)),[[$,p.interval,void 0,{number:!0}]]):(l(),s("span",ht,o(P(a.interval)),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[15]||(t[15]=d=>p.avg_speed=d),type:"number",step:"0.01"},null,512)),[[$,p.avg_speed,void 0,{number:!0}]]):(l(),s("span",_t,o(U(a.avg_speed)),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[16]||(t[16]=d=>p.kart_number=d),type:"text"},null,512)),[[$,p.kart_number]]):(l(),s("span",ft,o(a.kart_number||"-"),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[17]||(t[17]=d=>p.tyre=d),type:"text"},null,512)),[[$,p.tyre]]):(l(),s("span",$t,o(a.tyre||"-"),1))]),e("td",null,[b.value===a.id?h((l(),s("input",{key:0,"onUpdate:modelValue":t[18]||(t[18]=d=>p.cost_per_lap=d),type:"number",step:"0.01"},null,512)),[[$,p.cost_per_lap,void 0,{number:!0}]]):(l(),s("span",Ct,o(N(a.cost_per_lap)),1))]),e("td",Pt,[b.value===a.id?(l(),s("button",{key:0,onClick:L,class:"btn-icon btn-save"},"âœ“")):T("",!0),b.value===a.id?(l(),s("button",{key:1,onClick:A,class:"btn-icon btn-cancel"},"âœ—")):(l(),s("button",{key:2,onClick:d=>S(a),class:"btn-icon btn-edit"},"âœŽ",8,Tt)),e("button",{onClick:d=>u(a.id),class:"btn-icon btn-delete"},"ðŸ—‘",8,Ft)])],2)}),128))])]),c.totalPages>1?(l(),s("div",Vt,[e("button",{onClick:t[19]||(t[19]=a=>n.$emit("page-change",c.currentPage-1)),disabled:c.currentPage===1},"Previous",8,Dt),e("span",null,"Page "+o(c.currentPage)+" of "+o(c.totalPages),1),e("button",{onClick:t[20]||(t[20]=a=>n.$emit("page-change",c.currentPage+1)),disabled:c.currentPage===c.totalPages},"Next",8,wt)])):T("",!0)])):(l(),s("div",st,[...t[24]||(t[24]=[e("p",null,"ðŸ“­ No laps found",-1)])]))]))}}),Nt=Z(Ut,[["__scopeId","data-v-2320db02"]]),St={class:"admin-data-view"},Lt={class:"tabs"},At=["onClick"],xt={key:0,class:"count"},Rt={key:2,class:"tab-content"},Et={class:"table-header"},It={key:0,class:"loading"},Bt={key:1,class:"error"},Ht={key:2,class:"empty-state"},Mt={key:3,class:"table-wrapper"},Qt={class:"mono"},zt={key:1},Ot={key:0,class:"pagination"},jt=["disabled"],Wt=["disabled"],qt={key:3,class:"tab-content"},Gt={class:"table-header"},Jt={key:0,class:"loading"},Kt={key:1,class:"error"},Xt={key:2,class:"empty-state"},Yt={key:3,class:"table-wrapper"},Zt={class:"mono"},el={class:"mono"},tl=["href"],ll={key:1},nl={key:0,class:"pagination"},sl=["disabled"],al=["disabled"],ol=X({__name:"AdminDataView",setup(c){const F=y("sessions"),V=y([]),_=y([]),g=y([]),k=y([]),b=y([]),p=y([]),P=y(!1),U=y(!1),N=y(!1),S=y(!1),L=y(""),A=y(""),u=y(""),n=y(""),t=y(1),a=y(1),m=y(0),d=y(1),ee=y(1),B=y(0),R=y(1),j=y(1),H=y(0),E=y(1),W=y(1),M=y(0),Q=y(""),z=y(""),te=y({}),ae=be(()=>[{id:"sessions",label:"Sessions",icon:"ðŸ",count:m.value},{id:"laps",label:"Laps",icon:"â±ï¸",count:B.value},{id:"drivers",label:"Drivers",icon:"ðŸ‘¤",count:H.value},{id:"tracks",label:"Tracks",icon:"ðŸŽï¸",count:M.value}]),I=async()=>{var v,r;P.value=!0,L.value="";try{const f={page:t.value,per_page:25,...te.value},i=await C.getSessions(f);V.value=i.data,a.value=i.last_page,m.value=i.total}catch(f){L.value=((r=(v=f.response)==null?void 0:v.data)==null?void 0:r.message)||"Failed to load sessions"}finally{P.value=!1}},O=async()=>{var v,r;U.value=!0,A.value="";try{const f={page:d.value,per_page:25};Q.value&&(f.driver_id=Q.value),z.value&&(f.track_id=z.value);const i=await C.getLaps(f);_.value=i.data,ee.value=i.last_page,B.value=i.total}catch(f){A.value=((r=(v=f.response)==null?void 0:v.data)==null?void 0:r.message)||"Failed to load laps"}finally{U.value=!1}},q=async()=>{var v,r;N.value=!0,u.value="";try{const f=await C.getDrivers();g.value=f,H.value=g.value.length}catch(f){u.value=((r=(v=f.response)==null?void 0:v.data)==null?void 0:r.message)||"Failed to load drivers"}finally{N.value=!1}},G=async()=>{var v,r;S.value=!0,n.value="";try{const f=await C.getTracks();k.value=f,M.value=k.value.length}catch(f){n.value=((r=(v=f.response)==null?void 0:v.data)==null?void 0:r.message)||"Failed to load tracks"}finally{S.value=!1}},oe=async()=>{try{const[v,r]=await Promise.all([C.getDrivers(),C.getTracks()]);b.value=v,p.value=r}catch(v){console.error("Failed to load filters:",v)}},ie=v=>{F.value=v,v==="sessions"&&V.value.length===0?I():v==="laps"&&_.value.length===0?O():v==="drivers"&&g.value.length===0?q():v==="tracks"&&k.value.length===0&&G()},re=v=>{t.value=v,I()},ue=v=>{d.value=v,O()},de=v=>{Q.value=v.driver,z.value=v.track,d.value=1,O()},ve=v=>{te.value=v,t.value=1,I()},ce=v=>new Date(v).toLocaleDateString();return ye(async()=>{oe();try{const[v,r,f,i]=await Promise.all([C.getSessions({page:1,per_page:1}),C.getLaps({page:1,per_page:1}),C.getDrivers(),C.getTracks()]);m.value=v.total||0,B.value=r.total||0,H.value=Array.isArray(f)?f.length:0,M.value=Array.isArray(i)?i.length:0}catch(v){console.error("Failed to load counts:",v)}I()}),(v,r)=>{const f=ge("router-link");return l(),s("div",St,[r[12]||(r[12]=e("header",{class:"page-header"},[e("h1",null,"ðŸ“Š Database Overview"),e("p",null,"View and edit all database records - Sessions, Laps, Drivers, Tracks")],-1)),e("div",Lt,[(l(!0),s(D,null,w(ae.value,i=>(l(),s("button",{key:i.id,class:Y(["tab",{active:F.value===i.id}]),onClick:il=>ie(i.id)},[J(o(i.icon)+" "+o(i.label)+" ",1),i.count!==void 0?(l(),s("span",xt,"("+o(i.count)+")",1)):T("",!0)],10,At))),128))]),F.value==="sessions"?(l(),le(Ke,{key:0,items:V.value,loading:P.value,error:L.value,"current-page":t.value,"total-pages":a.value,total:m.value,tracks:p.value,onRefresh:I,onPageChange:re,onFilterChange:ve},null,8,["items","loading","error","current-page","total-pages","total","tracks"])):T("",!0),F.value==="laps"?(l(),le(Nt,{key:1,items:_.value,loading:U.value,error:A.value,"current-page":d.value,"total-pages":ee.value,total:B.value,drivers:b.value,tracks:p.value,"driver-filter":Q.value,"track-filter":z.value,onRefresh:O,onPageChange:ue,onFilterChange:de},null,8,["items","loading","error","current-page","total-pages","total","drivers","tracks","driver-filter","track-filter"])):T("",!0),F.value==="drivers"?(l(),s("div",Rt,[e("div",Et,[e("h3",null,"Drivers ("+o(H.value)+")",1),ne(f,{to:"/admin/driver-management",class:"btn-primary"},{default:se(()=>[...r[4]||(r[4]=[J("Manage Drivers",-1)])]),_:1})]),N.value?(l(),s("div",It,[...r[5]||(r[5]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading drivers...",-1)])])):u.value?(l(),s("div",Bt,o(u.value),1)):g.value.length?(l(),s("div",Mt,[e("table",null,[r[7]||(r[7]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Name"),e("th",null,"Email"),e("th",null,"Nickname"),e("th",null,"Color"),e("th",null,"Active"),e("th",null,"Created")])],-1)),e("tbody",null,[(l(!0),s(D,null,w(g.value,i=>(l(),s("tr",{key:i.id},[e("td",Qt,o(i.id),1),e("td",null,o(i.name),1),e("td",null,o(i.email||"-"),1),e("td",null,o(i.nickname||"-"),1),e("td",null,[i.color?(l(),s("span",{key:0,class:"color-badge",style:ke({backgroundColor:i.color})},o(i.color),5)):(l(),s("span",zt,"-"))]),e("td",null,o(i.is_active?"âœ“":"âœ—"),1),e("td",null,o(ce(i.created_at)),1)]))),128))])]),j.value>1?(l(),s("div",Ot,[e("button",{onClick:r[0]||(r[0]=i=>{R.value--,q()}),disabled:R.value===1},"Previous",8,jt),e("span",null,"Page "+o(R.value)+" of "+o(j.value),1),e("button",{onClick:r[1]||(r[1]=i=>{R.value++,q()}),disabled:R.value===j.value},"Next",8,Wt)])):T("",!0)])):(l(),s("div",Ht,[...r[6]||(r[6]=[e("p",null,"ðŸ“­ No drivers found",-1)])]))])):T("",!0),F.value==="tracks"?(l(),s("div",qt,[e("div",Gt,[e("h3",null,"Tracks ("+o(M.value)+")",1),ne(f,{to:"/admin/tracks",class:"btn-primary"},{default:se(()=>[...r[8]||(r[8]=[J("Manage Tracks",-1)])]),_:1})]),S.value?(l(),s("div",Jt,[...r[9]||(r[9]=[e("div",{class:"spinner"},null,-1),e("p",null,"Loading tracks...",-1)])])):n.value?(l(),s("div",Kt,o(n.value),1)):k.value.length?(l(),s("div",Yt,[e("table",null,[r[11]||(r[11]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Track ID"),e("th",null,"Name"),e("th",null,"City"),e("th",null,"Country"),e("th",null,"Region"),e("th",null,"Distance (m)"),e("th",null,"Corners"),e("th",null,"Indoor"),e("th",null,"Website")])],-1)),e("tbody",null,[(l(!0),s(D,null,w(k.value,i=>(l(),s("tr",{key:i.id},[e("td",Zt,o(i.id),1),e("td",el,o(i.track_id),1),e("td",null,o(i.name),1),e("td",null,o(i.city||"-"),1),e("td",null,o(i.country||"-"),1),e("td",null,o(i.region||"-"),1),e("td",null,o(i.distance||"-"),1),e("td",null,o(i.corners||"-"),1),e("td",null,o(i.indoor?"âœ“":"âœ—"),1),e("td",null,[i.website?(l(),s("a",{key:0,href:i.website,target:"_blank"},"Link",8,tl)):(l(),s("span",ll,"-"))])]))),128))])]),W.value>1?(l(),s("div",nl,[e("button",{onClick:r[2]||(r[2]=i=>{E.value--,G()}),disabled:E.value===1},"Previous",8,sl),e("span",null,"Page "+o(E.value)+" of "+o(W.value),1),e("button",{onClick:r[3]||(r[3]=i=>{E.value++,G()}),disabled:E.value===W.value},"Next",8,al)])):T("",!0)])):(l(),s("div",Xt,[...r[10]||(r[10]=[e("p",null,"ðŸ“­ No tracks found",-1)])]))])):T("",!0)])}}}),dl=Z(ol,[["__scopeId","data-v-bb98151a"]]);export{dl as default};
