import{K as l,r as d}from"./index-BIUjLROW.js";const c="https://yourdomain.com/karting/api/api";function A(){const a=d(!1),s=d(null),o=()=>({Authorization:`Bearer ${localStorage.getItem("api_token")}`,Accept:"application/json"});return{loading:a,error:s,getOverviewStats:async r=>{var t,e;try{a.value=!0,s.value=null;const n=r?{driver_id:r}:{},i=await l.get(`${c}/stats/overview`,{headers:o(),params:n});return i.data.data||i.data}catch(n){return s.value=((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to fetch overview stats",console.error("Error fetching overview stats:",n),null}finally{a.value=!1}},getDriverStats:async()=>{var r,t;try{a.value=!0,s.value=null;const e=await l.get(`${c}/stats/drivers`,{headers:o()});return e.data.data||e.data}catch(e){return s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to fetch driver stats",console.error("Error fetching driver stats:",e),null}finally{a.value=!1}},getTrackStats:async()=>{var r,t;try{a.value=!0,s.value=null;const e=await l.get(`${c}/stats/tracks`,{headers:o()});return e.data.data||e.data}catch(e){return s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to fetch track stats",console.error("Error fetching track stats:",e),null}finally{a.value=!1}},getAllLaps:async(r,t)=>{var e,n;try{a.value=!0,s.value=null;const i={};r&&(i.driver_id=r),t&&(i.track_id=t);const u=await l.get(`${c}/laps`,{headers:o(),params:i});return u.data.data||u.data}catch(i){return s.value=((n=(e=i.response)==null?void 0:e.data)==null?void 0:n.message)||"Failed to fetch laps",console.error("Error fetching laps:",i),null}finally{a.value=!1}},getDriverLaps:async r=>{var t,e;try{a.value=!0,s.value=null;const n=await l.get(`${c}/laps/driver/${r}`,{headers:o()});return n.data.data||n.data}catch(n){return s.value=((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to fetch driver laps",console.error("Error fetching driver laps:",n),null}finally{a.value=!1}},getSessions:async()=>{var r,t;try{a.value=!0,s.value=null;const e=await l.get(`${c}/sessions`,{headers:o()});return e.data.data||e.data}catch(e){return s.value=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to fetch sessions",console.error("Error fetching sessions:",e),null}finally{a.value=!1}},getDriverActivityOverTime:async r=>{try{const t=r?{driver_id:r}:{};return(await l.get(`${c}/stats/driver-activity-over-time`,{headers:o(),params:t})).data}catch(t){return console.error("Error fetching driver activity over time:",t),null}},getDriverTrackHeatmap:async()=>{try{return(await l.get(`${c}/stats/driver-track-heatmap`,{headers:o()})).data}catch(r){return console.error("Error fetching driver track heatmap:",r),null}},getTrophyCase:async r=>{try{const t={driver_id:r};return(await l.get(`${c}/stats/trophy-case`,{headers:o(),params:t})).data}catch(t){return console.error("Error fetching trophy case:",t),null}},fetchTrophyDetails:async(r,t)=>{try{return(await l.get(`${c}/stats/trophy-details`,{headers:o(),params:{driver_id:r,type:t}})).data||[]}catch(e){return console.error("Error fetching trophy details:",e),[]}}}}export{A as u};
